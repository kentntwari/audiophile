"use strict";(self.webpackChunkaudiophile=self.webpackChunkaudiophile||[]).push([[702,87],{5806:function(e,t,n){var r=n(2791),a=n(8023),c=n(184);t.Z=function(e){var t=e.children,n=void 0===t?"see product":t,i=e.addClass,s=e.removeClass,l=e.onClick,u=(0,r.useRef)();return(0,a.Z)(u,i,s),(0,c.jsx)("button",{className:"bg-orange-full hover:bg-orange-dimmed w-40\r h-12 flex justify-center items-center font-bold text-xsm \r text-white-full uppercase tracking-style-button",onClick:l,ref:u,children:n})}},3087:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(8997),a=n(2791),c=n(6030),i=n(3504),s=n(6871),l=n(3726),u=n(4132),o=n(8683),f=n(184),d=function(e){var t=e.item_name,n=e.item_image,r=e.item_price,i=e.item_quantity,s=e.item_index,u=e.numberOfItems,d=(0,c.I0)(),m=(0,c.v9)((function(e){return e.cart}));function x(e){m.map((function(t,n){if(n===s){var r=(0,o.Z)((0,o.Z)({},t),{},{quantity:e}),a=r.image,c=r.item,i=r.price,u=r.quantity;d((0,l.xu)(n,a,c,i,u))}return t}))}var p=Array(u).fill(null).map((function(e,t,n){return n[t]=(0,a.createRef)()})),h=Array(u).fill(null).map((function(e,t,n){return n[t]=(0,a.createRef)()})),j=Array(u).fill(null).map((function(e,t,n){return n[t]=(0,a.createRef)()})),g=Array(u).fill(null).map((function(e,t,n){return n[t]=(0,a.createRef)()}));return(0,f.jsxs)("div",{ref:p[s],className:"w-full flex justify-between items-center",children:[(0,f.jsxs)("div",{className:"w-[9.688rem] flex justify-start items-center gap-4",children:[(0,f.jsx)("img",{className:"w-16 h-16 rounded-lg object-cover",src:n,alt:t}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"uppercase font-bold tracking-normal",children:t.split(" ")[0]}),(0,f.jsxs)("p",{className:"uppercase font-bold text-[0.875rem] opacity-50 tracking-normal",children:["$",r]})]})]}),(0,f.jsxs)("div",{className:"w-[6rem] h-[2rem] bg-white-dimmed flex justify-center items-center gap-6",children:[(0,f.jsx)("span",{className:"opacity-25",ref:j[s],onClick:function(e){var t=h[s].current.innerText,n=parseInt(t);h[s].current.innerText=n>1?n-1:1,x(parseInt(h[s].current.innerText))},children:"-"}),(0,f.jsx)("span",{ref:h[s],children:i}),(0,f.jsx)("span",{ref:g[s],className:"opacity-25",onClick:function(){var e=h[s].current.innerText,t=parseInt(e);h[s].current.innerText=t+1,x(parseInt(h[s].current.innerText))},children:"+"})]})]})},m=n(5806),x=function(){var e=(0,a.useState)((function(){return(0,f.jsx)("p",{className:"opacity-50",children:"No items in cart"})})),t=(0,r.Z)(e,2),n=t[0],o=t[1],x=(0,c.v9)((function(e){return e.cart})),p=(0,c.v9)((function(e){return e.displayCart})),h=(0,c.I0)(),j=(0,a.useRef)(),g=(0,a.useRef)(),y=(0,s.TH)();(0,a.useEffect)((function(){return x.length>0?o((function(){return x.map((function(e,t,n){var r=e.image,a=e.item,c=e.price,i=e.quantity;return(0,f.jsx)(d,{item_name:a,item_image:r,item_price:c,item_quantity:i,item_index:t,numberOfItems:n.length},t)}))})):0===x.length?o((function(){return(0,f.jsx)("p",{className:"opacity-50",children:"No items in cart"})})):void 0}),[x,x.length]),(0,a.useEffect)((function(){if("/checkout"===y.pathname&&j.current.classList.contains("block"))return h((0,u.t)()),document.body.removeAttribute("class")}),[y.pathname,h]);var v=(0,a.useCallback)((function(){return x.reduce((function(e,t){return e+t.price*t.quantity}),0)}),[x]);return(0,f.jsxs)("article",{ref:j,className:"".concat(!0===p?"block":"hidden"," w-full"),children:[(0,f.jsx)("div",{className:"absolute top-0 left-0 z-40 w-screen h-screen bg-black-full opacity-50"}),(0,f.jsxs)("dialog",{ref:g,open:!0,className:"absolute w-[20.43rem] lg:w-[23.5rem] rounded-md px-[28px] py-[33px] top-[1.5rem]\r left-0 lg:-right-[335px] opacity-100 z-50 flex flex-col justify-start items-start gap-8",children:[(0,f.jsxs)("section",{className:"w-full flex justify-between items-start",children:[(0,f.jsxs)("h6",{children:["cart ",(0,f.jsxs)("span",{children:["(",x.length,")"]})]}),(0,f.jsx)("p",{className:"underline opacity-50",onClick:function(){return h((0,l.UY)())},children:"Remove all"})]}),(0,f.jsx)("section",{className:"w-full flex flex-col justify-start gap-6",children:n}),(0,f.jsxs)("section",{className:"w-full flex justify-between items-center",children:[(0,f.jsx)("p",{className:"uppercase opacity-50",children:"Total"}),(0,f.jsxs)("h6",{className:"tracking-normal",children:["$ ",v()]})]}),x.length>0&&(0,f.jsx)(i.rU,{to:"/checkout",className:"w-full",state:{cart:x,total:v()},children:(0,f.jsx)(m.Z,{addClass:["w-full"],removeClass:["w-40"],children:"checkout"})})]})]})}},2702:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var r=n(2791),a=n(6871),c=n(2810),i=n(184),s=(0,r.forwardRef)((function(e,t){var n=e.children,r=void 0===n?"add to cart":n,a=e.addToCart;return(0,i.jsx)("button",{className:"bg-orange-full hover:bg-orange-dimmed w-40\r h-12 flex justify-center items-center font-bold text-xsm \r text-white-full uppercase tracking-style-button",onClick:a,ref:t,children:r})})),l=n(3087),u=function(e){var t=e.info,n=e.dispatchToStore,u=e.storeActions,o=(0,r.useRef)(),f=(0,r.createRef)(),d=u.data,m=(0,a.TH)();return(0,r.useEffect)((function(){o.current.innerText="1",f.current.innerText="add to cart"}),[m.state.slug,f]),(0,i.jsxs)(r.Fragment,{children:[t.map((function(e){var t=e.image_mobile,r=e.title,a=e.description,l=e.price;return(0,i.jsxs)("div",{className:"flex flex-col gap-6 xl:gap-4",children:[(0,i.jsxs)("section",{className:"flex flex-col gap-6 xl:gap-4",children:[(0,i.jsx)("h2",{className:"text-[1.75rem] leading-normal tracking-[1px]",children:r}),(0,i.jsx)("p",{className:"opacity-50",children:a})]}),(0,i.jsxs)("h6",{children:["$ ",l]}),(0,i.jsxs)("section",{className:"flex justify-start items-start gap-4",children:[(0,i.jsxs)("div",{className:"bg-white-dimmed w-30 h-12 flex justify-center items-center gap-[31px]",children:[(0,i.jsx)("span",{className:"font-bold opacity-50",onClick:function(){if(f.current.innerText="add to cart","1"===o.current.innerText)return 1;o.current.innerText=parseInt(o.current.innerText)-1},children:"-"}),(0,i.jsx)("span",{ref:o,className:"font-bold"}),(0,i.jsx)("span",{className:"font-bold opacity-50",onClick:function(){f.current.innerText="add to cart",o.current.innerText=parseInt(o.current.innerText)+1},children:"+"})]}),(0,i.jsx)(s,{addToCart:function(){var e=parseInt(o.current.innerText);f.current.innerText="added to cart",n(d(t,r,l,e))},ref:f})]})]},(0,c.Z)())})),(0,i.jsx)(l.default,{})]})}}}]);
//# sourceMappingURL=702.aaf70614.chunk.js.map