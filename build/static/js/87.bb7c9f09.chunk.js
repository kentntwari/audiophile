"use strict";(self.webpackChunkaudiophile=self.webpackChunkaudiophile||[]).push([[87],{5806:function(e,t,n){var r=n(2791),i=n(8023),a=n(184);t.Z=function(e){var t=e.children,n=void 0===t?"see product":t,c=e.addClass,s=e.removeClass,l=e.onClick,u=(0,r.useRef)();return(0,i.Z)(u,c,s),(0,a.jsx)("button",{className:"bg-orange-full hover:bg-orange-dimmed w-40\r h-12 flex justify-center items-center font-bold text-xsm \r text-white-full uppercase tracking-style-button",onClick:l,ref:u,children:n})}},3087:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(8997),i=n(2791),a=n(6030),c=n(3504),s=n(6871),l=n(3726),u=n(4132),o=n(8683),f=n(184),m=function(e){var t=e.item_name,n=e.item_image,r=e.item_price,c=e.item_quantity,s=e.item_index,u=e.numberOfItems,m=(0,a.I0)(),p=(0,a.v9)((function(e){return e.cart}));function d(e){p.map((function(t,n){if(n===s){var r=(0,o.Z)((0,o.Z)({},t),{},{quantity:e}),i=r.image,a=r.item,c=r.price,u=r.quantity;m((0,l.xu)(n,i,a,c,u))}return t}))}var x=Array(u).fill(null).map((function(e,t,n){return n[t]=(0,i.createRef)()})),h=Array(u).fill(null).map((function(e,t,n){return n[t]=(0,i.createRef)()})),j=Array(u).fill(null).map((function(e,t,n){return n[t]=(0,i.createRef)()})),y=Array(u).fill(null).map((function(e,t,n){return n[t]=(0,i.createRef)()}));return(0,f.jsxs)("div",{ref:x[s],className:"w-full flex justify-between items-center",children:[(0,f.jsxs)("div",{className:"w-[9.688rem] flex justify-start items-center gap-4",children:[(0,f.jsx)("img",{className:"w-16 h-16 rounded-lg object-cover",src:n,alt:t}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"uppercase font-bold tracking-normal",children:t.split(" ")[0]}),(0,f.jsxs)("p",{className:"uppercase font-bold text-[0.875rem] opacity-50 tracking-normal",children:["$",r]})]})]}),(0,f.jsxs)("div",{className:"w-[6rem] h-[2rem] bg-white-dimmed flex justify-center items-center gap-6",children:[(0,f.jsx)("span",{className:"opacity-25",ref:j[s],onClick:function(e){var t=h[s].current.innerText,n=parseInt(t);h[s].current.innerText=n>1?n-1:1,d(parseInt(h[s].current.innerText))},children:"-"}),(0,f.jsx)("span",{ref:h[s],children:c}),(0,f.jsx)("span",{ref:y[s],className:"opacity-25",onClick:function(){var e=h[s].current.innerText,t=parseInt(e);h[s].current.innerText=t+1,d(parseInt(h[s].current.innerText))},children:"+"})]})]})},p=n(5806),d=function(){var e=(0,i.useState)((function(){return(0,f.jsx)("p",{className:"opacity-50",children:"No items in cart"})})),t=(0,r.Z)(e,2),n=t[0],o=t[1],d=(0,a.v9)((function(e){return e.cart})),x=(0,a.v9)((function(e){return e.displayCart})),h=(0,a.I0)(),j=(0,i.useRef)(),y=(0,i.useRef)(),g=(0,s.TH)();(0,i.useEffect)((function(){return d.length>0?o((function(){return d.map((function(e,t,n){var r=e.image,i=e.item,a=e.price,c=e.quantity;return(0,f.jsx)(m,{item_name:i,item_image:r,item_price:a,item_quantity:c,item_index:t,numberOfItems:n.length},t)}))})):0===d.length?o((function(){return(0,f.jsx)("p",{className:"opacity-50",children:"No items in cart"})})):void 0}),[d,d.length]),(0,i.useEffect)((function(){if("/checkout"===g.pathname&&j.current.classList.contains("block"))return h((0,u.t)()),document.body.removeAttribute("class")}),[g.pathname,h]);var v=(0,i.useCallback)((function(){return d.reduce((function(e,t){return e+t.price*t.quantity}),0)}),[d]);return(0,f.jsxs)("article",{ref:j,className:"".concat(!0===x?"block":"hidden"," w-full"),children:[(0,f.jsx)("div",{className:"absolute top-0 left-0 z-40 w-screen h-screen bg-black-full opacity-50"}),(0,f.jsxs)("dialog",{ref:y,open:!0,className:"absolute w-[20.43rem] lg:w-[23.5rem] rounded-md px-[28px] py-[33px] top-[1.5rem]\r left-0 lg:-right-[335px] opacity-100 z-50 flex flex-col justify-start items-start gap-8",children:[(0,f.jsxs)("section",{className:"w-full flex justify-between items-start",children:[(0,f.jsxs)("h6",{children:["cart ",(0,f.jsxs)("span",{children:["(",d.length,")"]})]}),(0,f.jsx)("p",{className:"underline opacity-50",onClick:function(){return h((0,l.UY)())},children:"Remove all"})]}),(0,f.jsx)("section",{className:"w-full flex flex-col justify-start gap-6",children:n}),(0,f.jsxs)("section",{className:"w-full flex justify-between items-center",children:[(0,f.jsx)("p",{className:"uppercase opacity-50",children:"Total"}),(0,f.jsxs)("h6",{className:"tracking-normal",children:["$ ",v()]})]}),d.length>0&&(0,f.jsx)(c.rU,{to:"/checkout",className:"w-full",state:{cart:d,total:v()},children:(0,f.jsx)(p.Z,{addClass:["w-full"],removeClass:["w-40"],children:"checkout"})})]})]})}}}]);
//# sourceMappingURL=87.bb7c9f09.chunk.js.map