{"version":3,"file":"static/js/500.f446636b.chunk.js","mappings":"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","sources":["utilities/hooks/useProductData.js","pages/products/Product.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport sanityClient from '../../client';\r\n\r\nconst useProductData = (productSlug, productCategory) => {\r\n  /* Get initial info of the poduct:\r\n   image, title,description,price,features, */\r\n  const [apiEndpoint_general_info, setApiEndpoint_general_info] = useState(null);\r\n  const [generalInfo, setGeneralInfo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    import('../../api/endpoints/product').then(\r\n      (module) => isMounted && setApiEndpoint_general_info(module.initialData)\r\n    );\r\n\r\n    return () => (isMounted = false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let isFetched = true;\r\n\r\n    sanityClient.fetch(apiEndpoint_general_info).then((res) => {\r\n      if (isFetched && res !== null)\r\n        return setGeneralInfo(() => {\r\n          const filtered = res.filter(({ slug }) => slug === productSlug);\r\n          return filtered;\r\n        });\r\n    });\r\n\r\n    return () => (isFetched = false);\r\n  }, [productSlug, apiEndpoint_general_info]);\r\n\r\n  /* Check if product is latest from its category */\r\n  const [apiEndpoint_new_product, setApiEndpoint_new_product] = useState(null);\r\n  const [isNewProduct, setIsNewProduct] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    import('../../api/endpoints/product').then(\r\n      (module) =>\r\n        isMounted && setApiEndpoint_new_product(module.sortByCategory(productCategory))\r\n    );\r\n\r\n    return () => (isMounted = false);\r\n  }, [productCategory]);\r\n\r\n  useEffect(() => {\r\n    let isFetched = true;\r\n\r\n    sanityClient.fetch(apiEndpoint_new_product).then((res) => {\r\n      if (isFetched && res !== null)\r\n        return setIsNewProduct(() => {\r\n          return res\r\n            .filter(({ category }) => category === true)\r\n            .slice(0, 1)\r\n            .some(({ slug }) => slug === productSlug);\r\n        });\r\n    });\r\n\r\n    return () => (isFetched = false);\r\n  }, [productSlug, apiEndpoint_new_product]);\r\n\r\n  /* Get box items */\r\n  const [apiEndpoint_box_items, setApiEndpoint_box_items] = useState(null);\r\n  const [boxItems, setBoxItems] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    import('../../api/endpoints/product').then(\r\n      (module) =>\r\n        isMounted && setApiEndpoint_box_items(module.getProductBoxItems(productSlug))\r\n    );\r\n\r\n    return () => (isMounted = false);\r\n  }, [productSlug]);\r\n\r\n  useEffect(() => {\r\n    let isFetched = true;\r\n\r\n    sanityClient.fetch(apiEndpoint_box_items).then((res) => {\r\n      if (isFetched && res !== null) return setBoxItems(() => res.boxItems);\r\n    });\r\n\r\n    return () => (isFetched = false);\r\n  }, [apiEndpoint_box_items]);\r\n\r\n  /* Get product gallery */\r\n  const [apiEndPoint_product_gallery, setApiEndpoint_product_gallery] = useState(null);\r\n  const [productGallery, setProductGallery] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    import('../../api/endpoints/product').then(\r\n      (module) =>\r\n        isMounted && setApiEndpoint_product_gallery(module.getProductGallery(productSlug))\r\n    );\r\n\r\n    return () => (isMounted = false);\r\n  }, [productSlug]);\r\n\r\n  useEffect(() => {\r\n    let isFetched = true;\r\n\r\n    sanityClient.fetch(apiEndPoint_product_gallery).then((res) => {\r\n      if (isFetched && res !== null) return setProductGallery(() => res);\r\n    });\r\n\r\n    return () => (isFetched = false);\r\n  }, [apiEndPoint_product_gallery]);\r\n\r\n  /* set prompts to buy other items */\r\n  const [apiEndpoint_prompts, setApiEndpoint_prompts] = useState(null);\r\n  const [prompts, setPrompts] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    import('../../api/endpoints/product').then(\r\n      (module) => isMounted && setApiEndpoint_prompts(module.getMoreProducts(productSlug))\r\n    );\r\n\r\n    return () => (isMounted = false);\r\n  }, [productSlug]);\r\n\r\n  useEffect(() => {\r\n    let isFetched = true;\r\n\r\n    sanityClient.fetch(apiEndpoint_prompts).then((res) => {\r\n      if (isFetched && res !== null) return setPrompts(() => res);\r\n    });\r\n\r\n    return () => (isFetched = false);\r\n  }, [apiEndpoint_prompts]);\r\n\r\n  return [generalInfo, isNewProduct, boxItems, productGallery, prompts];\r\n};\r\n\r\nexport default useProductData;\r\n","import React, { lazy, Suspense } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addedToCart } from '../../global/features/cart/cartSlice';\r\nimport useProductData from '../../utilities/hooks/useProductData';\r\n\r\nconst ProductInfo = lazy(() => import('./ProductInfo'));\r\nconst Gallery = lazy(() => import('./Gallery'));\r\nconst Prompts = lazy(() => import('./Prompts'));\r\nconst BoxItems = lazy(() => import('./BoxItems'));\r\nconst Features = lazy(() => import('./Features'));\r\n\r\nconst Product = () => {\r\n  let location = useLocation();\r\n  const [basicData, newProduct, boxItems, productGallery, prompts] = useProductData(\r\n    location.state.slug,\r\n    location.state.category\r\n  );\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <Suspense\r\n      fallback={\r\n        <div className=\"w-full h-3/6 flex justify-center items-center\">Loading...</div>\r\n      }>\r\n      <article className=\"2xl:w-[1110px] 2xl:mx-auto flex flex-col justify-start items-start gap-22\">\r\n        <article className=\"grid grid-col lg:grid-cols-2 place-items-start lg:items-center gap-6 2xl:gap-[125px]\">\r\n          {basicData &&\r\n            basicData.map(({ image_mobile, slug }) => (\r\n              <figure key={slug} className=\"2xl:w-[540px]\">\r\n                <img className=\"rounded-md\" src={image_mobile} alt={slug} />\r\n              </figure>\r\n            ))}\r\n\r\n          <div className=\"2xl:w-[445px] flex flex-col gap-4\">\r\n            {newProduct && <div className=\"type-overline\">new product</div>}\r\n\r\n            {basicData && (\r\n              <ProductInfo\r\n                info={basicData}\r\n                dispatchToStore={dispatch}\r\n                storeActions={{\r\n                  data: (image, itemName, itemPrice, quantity) =>\r\n                    addedToCart(image, itemName, itemPrice, quantity),\r\n                }}\r\n              />\r\n            )}\r\n          </div>\r\n        </article>\r\n\r\n        <section className=\"grid grid-cols-1 2xl:grid-cols-2 place-items-start gap-22 2xl:gap-[125px]\">\r\n          {basicData && <Features data={basicData} />}\r\n\r\n          <BoxItems data={boxItems} />\r\n        </section>\r\n\r\n        <Gallery pictures={productGallery} />\r\n\r\n        <section className=\"flex flex-col gap-10 \">\r\n          <h2 className=\"text-center text-[1.75rem] leading-normal tracking-[1px]\">\r\n            You may also like\r\n          </h2>\r\n          <Prompts data={prompts} />\r\n        </section>\r\n      </article>\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n"],"names":["productSlug","productCategory","useState","apiEndpoint_general_info","setApiEndpoint_general_info","generalInfo","setGeneralInfo","useEffect","isMounted","then","module","initialData","isFetched","sanityClient","res","filter","slug","apiEndpoint_new_product","setApiEndpoint_new_product","isNewProduct","setIsNewProduct","sortByCategory","category","slice","some","apiEndpoint_box_items","setApiEndpoint_box_items","boxItems","setBoxItems","getProductBoxItems","apiEndPoint_product_gallery","setApiEndpoint_product_gallery","productGallery","setProductGallery","getProductGallery","apiEndpoint_prompts","setApiEndpoint_prompts","prompts","setPrompts","getMoreProducts","ProductInfo","lazy","Gallery","Prompts","BoxItems","Features","location","useLocation","useProductData","state","basicData","newProduct","dispatch","useDispatch","Suspense","fallback","className","map","image_mobile","src","alt","info","dispatchToStore","storeActions","data","image","itemName","itemPrice","quantity","addedToCart","pictures"],"sourceRoot":""}